(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[16],{1127:function(e,t,a){"use strict";a.r(t);a(297);var s=a(298),n=(a(236),a(333)),o=(a(237),a(336)),l=(a(239),a(332)),r=(a(147),a(166)),i=a(14),c=a(15),d=a(26),h=a(17),u=a(16),m=(a(335),a(331)),f=a(0),p=a.n(f),_=a(205),g=a.n(_),b=(a(858),a(859),a(242)),E=a(204),v=a.n(E),w=[],C=m.a.Option,S=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={area_message:"Please wait for data to load",cum_or_inc:"Cumulative",data_loading:!0,areas:[],width:0,height:0,arealist:[],case_data:[],death_data:[],death_list:[],case_preds:[],case_pred_list:[],death_preds:[],death_pred_list:[],CoD:"case",case_data_plot:[],death_data_plot:[],case_preds_plot:[],death_preds_plot:[],data_date:[],pred_date:[],to_plot:[]},e.updateWindowDimensions=e.updateWindowDimensions.bind(Object(d.a)(e)),e.plotData=e.plotData.bind(Object(d.a)(e)),e.onValuesChange=e.onValuesChange.bind(Object(d.a)(e)),e.doneLoading=e.doneLoading.bind(Object(d.a)(e)),e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions),this.setState({arealist:w})}},{key:"componentWillMount",value:function(){g.a.parse("https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/forecasts/google_data.csv",{download:!0,worker:!0,complete:function(e){var t;for(t=1;t<e.data.length;t++)e.data[t].length>2&&(w[t-1]=e.data[t][1]);this.setState({data_date:e.data[0].slice(2)}),this.setState({arealist:w}),this.setState({case_data:e.data})}.bind(this)}),g.a.parse("https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/forecasts/google_deaths.csv",{download:!0,worker:!0,complete:function(e){var t,a=[];for(t=1;t<e.data.length;t++)e.data[t].length>2&&(a[t-1]=e.data[t][1]);this.setState({death_list:a}),this.setState({death_data:e.data})}.bind(this)}),g.a.parse("https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/forecasts/google_forecasts_current_0.csv",{download:!0,worker:!0,complete:function(e){var t,a=[];for(t=1;t<e.data.length;t++)e.data[t].length>2&&(a[t-1]=e.data[t][1]);this.setState({pred_date:e.data[0].slice(2)}),this.setState({case_pred_list:a}),this.setState({case_preds:e.data})}.bind(this)}),g.a.parse("https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/forecasts/google_deaths_current_0.csv",{download:!0,worker:!0,complete:function(e){var t,a=[];for(t=1;t<e.data.length;t++)e.data[t].length>2&&(a[t-1]=e.data[t][1]);this.setState({death_pred_list:a}),this.setState({death_preds:e.data})}.bind(this)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"plotData",value:function(){var e,t,a,s=[];if("case"===this.state.CoD?(e=this.state.case_data_plot,t=this.state.case_preds_plot):(e=this.state.death_data_plot,t=this.state.death_preds_plot),"Cumulative"===this.state.cum_or_inc){for(a=0;a<e.length;a++)e[a]>0&&s.push({x:this.state.data_date[a],y:e[a]});var n=[];for(a=0;a<t.length;a++)n.push({x:this.state.pred_date[a],y:t[a]})}else{var o=e[0],l=0;for(a=1;a<e.length;a++)(l=e[a]-o)>=0&&o>0&&s.push({x:this.state.data_date[a],y:l}),o=e[a];n=[];for(o=e[e.length-1],a=0;a<t.length;a++)(l=t[a]-o)>=0&&o>0&&n.push({x:this.state.pred_date[a],y:l}),o=t[a]}var r=[{id:"Data",data:s},{id:"Forecasts",data:n}];this.setState({to_plot:r})}},{key:"onValuesChange",value:function(e,t){var a=this;if("areas"in e){var s=this.state.arealist.indexOf(t.areas),n=[];s>-1&&(n=this.state.case_data[s+1].slice(2)),this.setState({case_data_plot:n}),n=[],(s=this.state.case_pred_list.indexOf(t.areas))>-1&&(n=this.state.case_preds[s+1].slice(2)),this.setState({case_preds_plot:n});var o=[];(s=this.state.death_list.indexOf(t.areas))>-1&&(o=this.state.death_data[s+1].slice(2)),this.setState({death_data_plot:o}),o=[],(s=this.state.death_pred_list.indexOf(t.areas))>-1&&(o=this.state.death_preds[s+1].slice(2)),this.setState({death_preds_plot:o})}"cum_or_inc"in e&&this.setState({cum_or_inc:t.cum_or_inc},(function(){return a.plotData()})),this.setState({CoD:t.CoD},(function(){return a.plotData()}))}},{key:"doneLoading",value:function(){this.setState({data_loading:!1}),this.setState({area_message:"Start typing a location name to see its data and forecasts"})}},{key:"render",value:function(){var e=this.state,t=e.areas,a=e.arealist,i=e.CoD,c=e.to_plot,d=(e.data_loading,e.cum_or_inc),h=e.area_message,u=a.length>0&&a.map((function(e){return p.a.createElement(C,{key:e,value:e},e)}),this),f=1+this.state.width/280;return this.state.data_loading&this.state.case_preds.length>0&&this.state.death_preds.length>0&&this.state.death_data.length>0&&this.state.case_data.length>0&&this.doneLoading(),p.a.createElement("div",{style:{color:"#1f1c1c"}},p.a.createElement("div",{className:"grid"},p.a.createElement("div",{className:"introduction"},p.a.createElement(r.a,null,p.a.createElement("h1",null,'Forecasts for "Almost" Everywhere')),p.a.createElement(r.a,null,p.a.createElement("p",null,"Use this page to see forecasts not addressed on the ",p.a.createElement("a",{href:"#/"}," main page"),". Forecasts are available for all locations (around 20,000) for which Google makes its data",p.a.createElement("a",{href:"https://github.com/scc-usc/covid19-forecast-bench"}," public"),"."))),p.a.createElement(r.a,null,p.a.createElement("div",{className:"form-column-row"},p.a.createElement(l.a,{ref:this.formRef,onValuesChange:this.onValuesChange,initialValues:{areas:t,CoD:i,cum_or_inc:d}},p.a.createElement(o.a,{content:h,placement:"top"},p.a.createElement(l.a.Item,{style:{marginBottom:"0px"},label:"Location",name:"areas",rules:[{required:!0,message:"Please select areas!"}]},p.a.createElement(m.a,{showSearch:!0,loading:this.state.data_loading,style:{width:"100%"},placeholder:"Select Areas"},u))),p.a.createElement(r.a,null,p.a.createElement(s.a,null,p.a.createElement(o.a,{content:"Choose to plot cumulative or new weekly numbers",placement:"bottomLeft"},p.a.createElement(l.a.Item,{label:"Data Type",style:{marginBottom:"5px"},name:"cum_or_inc",value:d},p.a.createElement(n.a.Group,{initialValue:"Cumulative",buttonStyle:"solid"},p.a.createElement(n.a.Button,{value:"Cumulative"},"Cumulative"),p.a.createElement(n.a.Button,{value:"New"},"Weekly New"))))),p.a.createElement(s.a,null,p.a.createElement(o.a,{content:"Choose cases or deaths to plot",placement:"bottomLeft"},p.a.createElement(l.a.Item,{label:"",style:{marginBottom:"5px"},name:"CoD",value:i},p.a.createElement(n.a.Group,{initialValue:"case",buttonStyle:"solid"},p.a.createElement(n.a.Button,{value:"case"},"Cases"),p.a.createElement(n.a.Button,{value:"death"},"Deaths"))))))))),p.a.createElement(r.a,null,p.a.createElement("div",{className:"graph-row"},p.a.createElement(b.a,{data:c,margin:{top:50,right:10,bottom:100,left:60},xScale:{type:"time",format:"%Y-%m-%d"},xFormat:"time:%Y-%m-%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},axisTop:null,axisRight:null,axisLeft:{format:function(e){return v()(e).format("0.[0]a")},orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:d.concat(" ".concat(i.concat("s"))),legendOffset:-55,legendPosition:"middle"},axisBottom:{format:"%b %d",tickValues:f,legend:"date",legendOffset:36,legendPosition:"middle"},colors:{scheme:"nivo"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!0,legends:[{text:{fontSize:14},anchor:"top-left",direction:"column",justify:!1,translateX:30,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}],theme:{axis:{ticks:{text:{fontSize:16}},legend:{text:{fontSize:16}}},legends:{text:{fontSize:16}}}}))),p.a.createElement("div",{className:"introduction"},p.a.createElement(r.a,null,p.a.createElement("div",{style:{background:"#fae3a2"}},p.a.createElement("p",null,"[",p.a.createElement("b",null,"Note"),": The data is noisy for some regions with decreasing cumulative values and missing values. In some cases, the forecast for a region may be lower than one of its sub-region which could be a result of less availabiltiy and more noise at the sub-region level. In that case, the sub-region data and forecast are less reliable, yet not impossible, and may point toward possible new outbreaks. See below for our forecasts from alternative sources that are less noisy and should be preferred for country-level and state-level for US, Germnany, and Poland.]"))),p.a.createElement(r.a,null,p.a.createElement("p",null,"Use the following links to download CSV files to analyze yourself (Right-click -> Save As): "),p.a.createElement("ul",null,p.a.createElement("li",null,p.a.createElement("a",{href:"https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/forecasts/google_data.csv",download:!0,target:"_blank"},"All formatted case data from Google ")),p.a.createElement("li",null,p.a.createElement("a",{href:"https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/forecasts/google_deaths.csv",download:!0,target:"_blank"},"All formatted death data from Google ")," "),p.a.createElement("li",null,p.a.createElement("a",{href:"https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/forecasts/google_forecasts_current_0.csv",download:!0,target:"_blank"},"Case forecasts on Google data ")," "),p.a.createElement("li",null,p.a.createElement("a",{href:"https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/forecasts/google_deaths_current_0.csv",download:!0,target:"_blank"},"Death forecasts on Google data ")," "))),p.a.createElement(r.a,null,p.a.createElement("h3",null,"Forecasts from Alternative Sources"),p.a.createElement("p",null,"The following are the latest forecasts for Countries and the US states used on the main forecast page. These files are based on the ",p.a.createElement("a",{href:"https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data"}," JHU data ")),p.a.createElement("ul",null,p.a.createElement("li",null,p.a.createElement("a",{href:"https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/forecasts/us_data.csv",download:!0,target:"_blank"},"All formatted case data for US states ")),p.a.createElement("li",null,p.a.createElement("a",{href:"https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/forecasts/us_deaths.csv",download:!0,target:"_blank"},"All formatted death data for US states ")),p.a.createElement("li",null,p.a.createElement("a",{href:"https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/forecasts/global_forecasts_current_0.csv",download:!0,target:"_blank"},"Case forecasts for all countries ")),p.a.createElement("li",null,p.a.createElement("a",{href:"https://raw.githubusercontent.com/scc-usc/ReCOVER-COVID-19/master/results/forecasts/global_deaths_current_0.csv",download:!0,target:"_blank"},"Death forecasts for all countries ")))),p.a.createElement(r.a,null,p.a.createElement("p",null,"Follow  this ",p.a.createElement("a",{href:"https://github.com/scc-usc/ReCOVER-COVID-19/tree/master/results/historical_forecasts"}," link ")," for dated forecasts for German states and Polish Voivodeships. These files are based on the data compiled by",p.a.createElement("a",{href:"https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data",target:"_blank"}," Germany and Poland Forecast Hub"))),p.a.createElement(r.a,null,"\xa0"))))}}]),a}(f.Component);t.default=S},859:function(e,t,a){}}]);
//# sourceMappingURL=16.96659431.chunk.js.map